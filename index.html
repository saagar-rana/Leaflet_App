<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
    <link rel="stylesheet" href="lib/leaflet.measure.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
    <link rel="stylesheet" href="lib/MarkerCluster.css">
    <link rel="stylesheet" href="lib/MarkerCluster.Default.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    

    
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="lib/leaflet.browser.print.min.js"></script>
    <script src="lib/leaflet.measure.js"></script>
    <script src="lib/data.js"></script>
    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
    <script src="lib/MarkerCluster.js"></script>
    <script src="lib/MarkerClusterGroup.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
    

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      #map {
        width: 100%;
        height: 500px;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <button onclick="document.getElementById('map').requestFullscreen()">
      Click for full Screen
    </button>
    <button onclick="window.print()">Print</button>
    <button id="zoom-layer">Zoom to layer</button>
    <div id="coordinate"></div>
  </body>
</html>

<script>
  //Add map
  var map = L.map("map", {
    zoomControl: false,
    measureControl: true
  }).setView([28.3949, 84.124], 7);

  var osm= L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png", {
    maxZoom: 19,
  }).addTo(map);

  var Stadia_AlidadeSmoothDark = L.tileLayer('https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png', {
	maxZoom: 20,
	
});

var Stamen_Watercolor = L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.{ext}', {

	subdomains: 'abcd',
	minZoom: 1,
	maxZoom: 16,
	ext: 'jpg'
});

  // Add marker
  map.on("click", function (e) {
    L.marker([e.latlng.lat, e.latlng.lng])
      .addTo(map)
      .bindPopup("latitude " + e.latlng.lat.toString())
      .openPopup();
  });

   var single = L.marker([28.3949, 84.124], {
    opacity: 0.5,
    draggable: true,
  })
    .addTo(map)
    .bindPopup("Hello dear")
    .openPopup();

  // Add scale
  L.control
    .scale({
      maxWidth: 100,
      metric: true,
    })
    .addTo(map);

  //Manage Attribution
  L.control
    .attribution()
    .setPrefix((prefix = "adsf"))
    .addTo(map);

  map.on("mousemove", function (e) {
    document.getElementById("coordinate").innerHTML =
      "lat: " + `${e.latlng.lat}` + "<br>lng: " + `${e.latlng.lng}`;
  });
  
 //Browser Print
  L.control.browserPrint({position: 'topright', title: 'Print ...'}).addTo(map);


//Measure
  L.control.measure().addTo(map);

  L.Control.geocoder().addTo(map);
  // GeoJson
 // var marker = L.markerClusterGroup();
  var geo = L.geoJSON(data).addTo(map);
  // geo.addTo(marker);


  //layer control
  var baseLayers ={
    "One": osm,
    "Two": Stadia_AlidadeSmoothDark,
    "Three": Stamen_Watercolor
  }

  var overlays ={
    "Marker": geo,
    "Single": single
  }
  
  L.control.layers(baseLayers,overlays).addTo(map);

// Zoom to layer
  $('#zoom-layer').click(function(){
    map.setView([28.3949, 84.124],7)
  })
  
  
</script>
